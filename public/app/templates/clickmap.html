<div>
	<div ng-style="editPanelStyle" ng-if="editing" id="editPanel">
		<input ng-model="editElement.title" placeholder="Title" id="elementTitle" ng-keypress="keypress($event)">
		<div>
		<div ng-click="save()" id="editPanelSave">Save</div>
		<div ng-click="cancel()" id="editPanelCancel">Cancel</div>
		</div>
	</div>
	<div ng-style="hoverPosition" ng-if="hover.title" id="hover">
		{{hover.title}}
	</div>
	<svg ng-attr-width="{{width}}" ng-attr-height="{{height}}" ng-click="svgClick($event)">
		<rect width="100%" height="100%" fill="black"></rect>
		<image xlink:href="{{image}}" width="100%" height="100%"></image>
		<rect fill="{{icon.color}}" xlink:href="/images/test.png" ng-attr-x={{icon.x}} ng-attr-y={{icon.y}} ng-attr-width="{{iconSize}}" ng-attr-height="{{iconSize}}" ng-repeat="icon in icons track by $index" ng-click="iconClick($event, $index)" ng-mouseenter="mouseIn($index, $event)" ng-mouseleave="mouseOut($index)"></rect>
		<rect fill="{{editElement.color}}" xlink:href="/images/test.png" ng-attr-x={{editElement.x}} ng-attr-y={{editElement.y}} ng-attr-width="{{iconSize}}" ng-attr-height="{{iconSize}}" ng-if="editElement"></rect>
	</svg>
</div>
<div class="iconBar" ng-if="editable">
	<svg ng-attr-width="{{width}}" ng-attr-height="{{iconSelectSize+10}}">
		<rect width="100%" height="100%" fill="black"></rect>
		<rect ng-attr-width="{{iconSelectSize+6}}" ng-attr-height="{{iconSelectSize+6}}" fill="white" ng-attr-x="{{currentColor*(iconSelectSize+5)+2}}" y="2"></rect>
		<rect ng-attr-fill={{color}} y="5" ng-attr-x={{$index*(iconSelectSize+5)+5}} ng-attr-width="{{iconSelectSize}}" ng-attr-height="{{iconSelectSize}}" ng-repeat="color in colors" ng-click="chooseIcon($index)"></rect>
	</svg>
	<button ng-click="saveMap()">Save Map</button>
</div>